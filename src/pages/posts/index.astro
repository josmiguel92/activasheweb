---
import { getCollection } from "astro:content";
import Layout from "@/layouts/Layout.astro";
import PostCard from "@/components/PostCard.astro";

const posts = (await getCollection("posts")).sort(
  (a, b) => b.data.publishedAt.getTime() - a.data.publishedAt.getTime(),
);
---

<Layout title="Todas las Publicaciones" class="text-chocolate">
  <section class="mx-auto max-w-4xl space-y-8 px-6 lg:max-w-6xl">
    <div class="flex items-end justify-between">
      <h1 class="font-display text-4xl text-chocolate">
        Todas las <span class="text-vibrant-orange">Publicaciones</span>
      </h1>
      <a
        href="/"
        class="border-b border-mustard pb-1 text-xs font-bold uppercase tracking-widest text-mustard transition-colors hover:text-vibrant-orange"
        >Volver al inicio</a
      >
    </div>

    <div class="grid grid-cols-1 gap-6 lg:grid-cols-2">
      {
        posts.map((post) => (
          <PostCard
            publishedAt={post.data.publishedAt}
            title={post.data.title}
            description={post.data.description}
            slug={post.slug}
            image={post.data.image}
          />
        ))
      }
    </div>
  </section>
</Layout>
